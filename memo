<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ğŸ§¬Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©ğŸ§¬</title>
<style>
  body {
    font-family: "Tahoma", sans-serif;
    background-image: url('https://raw.githubusercontent.com/xhhp1/medicaljpg/main/medic.jpg.jpg');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    padding: 30px;
    text-align: right;
    color: #000;
  }
  .overlay {
    background-color: rgba(255,255,255,0.95);
    border-radius: 20px;
    max-width: 800px;
    margin: auto;
    padding: 25px 30px;
    box-shadow: 0 0 15px rgba(0,0,0,0.3);
  }
  h2 {
    text-align: center;
    color: #8B0000;
  }
  .tabs {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 10px;
  }
  .tab-btn {
    flex: 1;
    background-color: #8B0000;
    color: white;
    border: none;
    padding: 10px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
  }
  .tab-btn:hover {
    background-color: #a91c1c;
  }
  .form-section {
    display: none;
  }
  label {
    display: block;
    margin-top: 10px;
    font-weight: bold;
  }
  input, select {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
    border-radius: 8px;
    border: 1px solid #ccc;
    text-align: right;
    font-size: 15px;
  }
  .time-group {
    display: flex;
    gap: 10px;
  }
  .time-group input, .time-group select {
    flex: 1;
  }
  button.generate {
    margin-top: 15px;
    padding: 10px 20px;
    background-color: #8B0000;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
    width: 100%;
  }
  button.generate:hover {
    background-color: #a91c1c;
  }
  pre {
    background: #ffffffcc;
    padding: 15px;
    border-radius: 10px;
    margin-top: 20px;
    white-space: pre-wrap;
    direction: rtl;
    border: 1px solid #ccc;
    font-size: 15px;
  }
</style>
</head>
<body>

<div class="overlay">
  <h2>ğŸ§¬Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©ğŸ§¬</h2>
  <div class="tabs">
    <button class="tab-btn" onclick="showForm('internalLeave')">Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©</button>
    <button class="tab-btn" onclick="showForm('resignation')">Ø§Ù„Ø§Ø³ØªÙ‚Ø§Ù„Ø©</button>
    <button class="tab-btn" onclick="showForm('externalLeave')">Ø¥Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©</button>
    <button class="tab-btn" onclick="showForm('assignment')">Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨</button>
  </div>

  <!-- Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© -->
  <div id="internalLeave" class="form-section">
    <h3>Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©</h3>
    <label>Ø§Ù„ÙƒÙˆØ¨ÙŠ ÙŠÙˆØ²Ø±:</label>
    <input type="text" id="int_copyUser" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ ÙŠÙˆØ²Ø±">
    <label>Ù…Ø¯Ø© Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© (Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª):</label>
    <input type="number" id="int_vac_duration" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª">
    <label>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ (Ø¨Ø§Ù„Ø³Ø§Ø¹Ø§Øª):</label>
    <input type="number" id="int_vac_balance" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª">
    <label>ÙˆÙ‚Øª Ø¨Ø¯Ø¡ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©:</label>
    <div class="time-group">
      <input type="number" id="int_vac_startHour" placeholder="Ø§Ù„Ø³Ø§Ø¹Ø© (1-12)">
      <input type="number" id="int_vac_startMinute" placeholder="Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© (0-59)">
      <select id="int_vac_startPeriod">
        <option value="Øµ">ØµØ¨Ø§Ø­Ù‹Ø§</option>
        <option value="Ù…">Ù…Ø³Ø§Ø¡Ù‹</option>
      </select>
    </div>
    <button class="generate" onclick="generateInternalLeave()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø§Ø±</button>
    <button class="generate" onclick="copyInternalLeave()">Ù†Ø³Ø® Ø§Ù„Ù‚Ø±Ø§Ø±</button>
    <pre id="int_output"></pre>
  </div>

  <!-- Ø§Ù„Ø§Ø³ØªÙ‚Ø§Ù„Ø© -->
  <div id="resignation" class="form-section">
    <h3>Ø§Ù„Ø§Ø³ØªÙ‚Ø§Ù„Ø© / Ø¥Ù†Ù‡Ø§Ø¡ Ø®Ø¯Ù…Ø§Øª</h3>
    <label>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø³Ø¹Ù:</label>
    <select id="res_level" onchange="updateResFields()">
      <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³ØªÙˆÙ‰ --</option>
      <option value="Ù…ØªØ¯Ø±Ø¨">Ù…ØªØ¯Ø±Ø¨</option>
      <option value="Ù…Ø³ØªÙˆÙ‰ 1">Ù…Ø³ØªÙˆÙ‰ 1</option>
      <option value="Ù…Ø³ØªÙˆÙ‰ 2 ÙÙ…Ø§ ÙÙˆÙ‚">Ù…Ø³ØªÙˆÙ‰ 2 ÙÙ…Ø§ ÙÙˆÙ‚</option>
    </select>
    <label>Ø§Ø³Ù…Ù‡ ÙˆÙƒÙˆØ¯Ù‡ Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠ:</label>
    <input type="text" id="res_nameCode" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠ">
    <label>Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ:</label>
    <input type="text" id="res_copyId" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ">
    <div id="res_violationsField" style="display:none;">
      <label>Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø¹Ù„ÙŠÙ‡ Ù…Ø®Ø§Ù„ÙØ§Øª Ø³Ø§Ø¨Ù‚Ù‡:</label>
      <select id="res_hasViolations">
        <option value="Ù„Ø§">Ù„Ø§</option>
        <option value="Ù†Ø¹Ù…">Ù†Ø¹Ù…</option>
      </select>
    </div>
    <button class="generate" onclick="generateResignation()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø§Ø±</button>
    <button class="generate" onclick="copyResignation()">Ù†Ø³Ø® Ø§Ù„Ù‚Ø±Ø§Ø±</button>
    <pre id="res_output"></pre>
  </div>

  <!-- Ø¥Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ© -->
  <div id="externalLeave" class="form-section">
    <h3>Ø¥Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©</h3>
    <label>Ø£Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©:</label>
    <select id="ext_leaveType" onchange="updateExtForm()">
      <option value="">-- Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© --</option>
      <option value="Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©">Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©</option>
      <option value="ØªÙ…Ø¯ÙŠØ¯ Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©">ØªÙ…Ø¯ÙŠØ¯ Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©</option>
    </select>
    <label>Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ:</label>
    <input type="text" id="ext_copyUser" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ">
    <div id="ext_leaveDaysField" style="display:none;">
      <label>Ù…Ø¯Ø© Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© (Ø¨Ø§Ù„Ø£ÙŠØ§Ù…):</label>
      <input type="number" id="ext_leaveDays" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…">
    </div>
    <div id="ext_extensionField" style="display:none;">
      <label>ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©:</label>
      <input type="date" id="ext_previousEndDate">
      <label>Ù…Ø¯Ø© Ø§Ù„ØªÙ…Ø¯ÙŠØ¯ (Ø¨Ø§Ù„Ø£ÙŠØ§Ù…):</label>
      <input type="number" id="ext_extensionDays" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù…">
    </div>
    <button class="generate" onclick="generateExternalLeave()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø§Ø±</button>
    <button class="generate" onclick="copyExternalLeave()">Ù†Ø³Ø® Ø§Ù„Ù‚Ø±Ø§Ø±</button>
    <pre id="ext_output"></pre>
  </div>

  <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨ -->
  <div id="assignment" class="form-section">
    <h3>Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨</h3>
    <label>Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ:</label>
    <input type="text" id="ass_copyId" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ ">
    <label>Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù…Ù†ØªØ¯Ø¨ Ø§Ù„ÙŠÙ‡:</label>
    <select id="ass_sector">
      <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø·Ø§Ø¹ --</option>
      <option value="Ø­Ø±Ø³ Ø§Ù„Ø­Ø¯ÙˆØ¯">Ø­Ø±Ø³ Ø§Ù„Ø­Ø¯ÙˆØ¯</option>
      <option value="Ø§Ù…Ù† Ø¹Ø§Ù…">Ø§Ù…Ù† Ø¹Ø§Ù…</option>
      <option value="Ø§Ù…Ù† Ø§Ù„Ø·Ø±Ù‚">Ø§Ù…Ù† Ø§Ù„Ø·Ø±Ù‚</option>
      <option value="Ø§Ù…Ù† Ø§Ù„Ù…Ù†Ø´Ø§Øª">Ø§Ù…Ù† Ø§Ù„Ù…Ù†Ø´Ø§Øª</option>
      <option value="ÙƒØ±Ø§Ø¬ Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ">ÙƒØ±Ø§Ø¬ Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ</option>
      <option value="Ù‚ÙˆØ§Øª Ø§Ù„Ø·ÙˆØ±Ø§Ù‰ Ø§Ù„Ø®Ø§ØµÙ‡">Ù‚ÙˆØ§Øª Ø§Ù„Ø·ÙˆØ±Ø§Ù‰ Ø§Ù„Ø®Ø§ØµÙ‡</option>
    </select>
    <label>Ø§Ù„Ù…Ø¯Ø© Ø¨Ø§Ù„Ø§ÙŠØ§Ù…:</label>
    <input type="number" id="ass_duration" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¯Ø© Ø¨Ø§Ù„Ø£ÙŠØ§Ù…">
    <button class="generate" onclick="generateAssignment()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø§Ø±</button>
    <button class="generate" onclick="copyAssignment()">Ù†Ø³Ø® Ø§Ù„Ù‚Ø±Ø§Ø±</button>
    <pre id="ass_output"></pre>
  </div>
</div>

<script>
// Tab function
function showForm(id){
  document.querySelectorAll('.form-section').forEach(f => f.style.display='none');
  document.getElementById(id).style.display='block';
}

// ---------- Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© ----------
function generateInternalLeave(){
  let copyUser = document.getElementById("int_copyUser").value.trim();
  let duration = parseFloat(document.getElementById("int_vac_duration").value) || 0;
  let balance = parseFloat(document.getElementById("int_vac_balance").value) || 0;
  let startHour = parseInt(document.getElementById("int_vac_startHour").value);
  let startMinute = parseInt(document.getElementById("int_vac_startMinute").value);
  let period = document.getElementById("int_vac_startPeriod").value;

  if (!startHour || startHour < 1 || startHour > 12) return alert("âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø³Ø§Ø¹Ø© ØµØ­ÙŠØ­Ø© (1 - 12)");
  if (isNaN(startMinute) || startMinute < 0 || startMinute > 59) return alert("âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¯Ù‚ÙŠÙ‚Ø© ØµØ­ÙŠØ­Ø© (0 - 59)");

  if (period === "Ù…" && startHour < 12) startHour += 12;
  if (period === "Øµ" && startHour === 12) startHour = 0;

  let tzDate = new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Riyadh"}));
  let yyyy = tzDate.getFullYear();
  let mm = String(tzDate.getMonth()+1).padStart(2,'0');
  let dd = String(tzDate.getDate()).padStart(2,'0');

  let startDate = new Date(`${yyyy}-${mm}-${dd}T${String(startHour).padStart(2,'0')}:${String(startMinute).padStart(2,'0')}:00`);
  let endDate = new Date(startDate);
  endDate.setHours(endDate.getHours()+duration);

  function formatDate(date){
    let y=date.getFullYear();
    let m=String(date.getMonth()+1).padStart(2,'0');
    let d=String(date.getDate()).padStart(2,'0');
    let h=date.getHours();
    let min=String(date.getMinutes()).padStart(2,'0');
    let per=h>=12?"Ù…":"Øµ";
    h=h%12; h=h?h:12;
    return `${h}:${min} ${per} | ${y}/${m}/${d}`;
  }

  if(copyUser && !copyUser.startsWith("<@")) copyUser=`<@${copyUser}>`;

  let remaining = balance - duration;

  let result=`ï·½

**Ù‚Ø±Ø§Ø± ØµÙ€Ø§Ø¯Ø± Ù…Ù€Ù† <@&1071933369698496532>**

Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ : Ø¥Ø¬Ø§Ø²Ø© Ø¯Ø§Ø®Ù„ÙŠØ©

Ù„Ù„Ù…Ø³Ø¹Ù : ${copyUser}

Ø§Ù„Ù…Ø¯Ø© : ${duration} Ø³Ø§Ø¹Ø©

Ù…Ù† Ø§Ù„Ø³Ø§Ø¹Ø© : ${formatDate(startDate)}
Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¹Ø© : ${formatDate(endDate)}

Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ : ${remaining} Ø³Ø§Ø¹Ø©

Ø¥Ø¹ØªÙ…Ø§Ø¯ :
<@&1071933358503903242>
<@725655707764129813>

<@&1071933359086911561>
<@813079786855464961>
`;
  document.getElementById("int_output").textContent=result;
}
function copyInternalLeave(){navigator.clipboard.writeText(document.getElementById("int_output").textContent); alert("âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù‚Ø±Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­!");}

// ---------- Ø§Ù„Ø§Ø³ØªÙ‚Ø§Ù„Ø© ----------
function updateResFields(){
  const level=document.getElementById('res_level').value;
  document.getElementById('res_violationsField').style.display=(level==='Ù…Ø³ØªÙˆÙ‰ 2 ÙÙ…Ø§ ÙÙˆÙ‚')?'block':'none';
}
function generateResignation(){
  const level=document.getElementById('res_level').value;
  const nameCode=document.getElementById('res_nameCode').value.trim();
  let copyId=document.getElementById('res_copyId').value.trim();
  const hasViolations=document.getElementById('res_hasViolations').value;
  if(!level) return alert('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ø³Ø¹Ù');
  if(!nameCode) return alert('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ù‡ ÙˆÙƒÙˆØ¯Ù‡ Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠ');
  if(!copyId) return alert('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ');
  if(!copyId.startsWith('<@')) copyId=`<@${copyId}>`;
  let result='';
  if(level==='Ù…ØªØ¯Ø±Ø¨'||level==='Ù…Ø³ØªÙˆÙ‰ 1'){
    let days=level==='Ù…ØªØ¯Ø±Ø¨'?14:7;
    let fine=level==='Ù…ØªØ¯Ø±Ø¨'?'1,000,000':'500,000';
    let reason=level==='Ù…ØªØ¯Ø±Ø¨'?'Ø§Ø³ØªÙ‚Ø§Ù„Ø© Ø¨Ù…Ø³ØªÙˆÙ‰ Ù…ØªØ¯Ø±Ø¨':'Ø§Ø³ØªÙ‚Ø§Ù„Ø© Ø¨Ù…Ø³ØªÙˆÙ‰ 1';
    result=`ï·½**

Ù‚Ø±Ø§Ø± ØµÙ€Ø§Ø¯Ø± Ù…Ù€Ù† <@&1071933369698496532> 

Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ : Ø¥Ù†Ù‡Ø§Ø¡ Ø®Ø¯Ù…Ø§Øª

Ø§Ù„Ù…Ø³Ø¹Ù : ${copyId}

Ø§Ø³Ù…Ù‡ ÙˆÙƒÙˆØ¯Ù‡ Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠ : ${nameCode}

Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø¹Ù„ÙŠÙ‡ Ù…Ø®Ø§Ù„ÙØ§Øª Ø³Ø§Ø¨Ù‚Ù‡ : 
 
Ø§Ù„Ø¹Ù‚ÙˆØ¨Ø© Ø§Ù„Ø§Ø¬Ù…Ø§Ù„ÙŠÙ‡ : ÙØµÙ„ Ù…Ù† Ø§Ù„Ø®Ø¯Ù…Ù‡ + Ù…Ù†Ø¹ Ù…Ù† Ø§Ù„ØªÙˆØ¸ÙŠÙ (${days}) Ø§ÙŠØ§Ù… + ØºØ±Ø§Ù…Ù‡ Ù…Ø§Ù„ÙŠØ© Ø¨Ù‚ÙŠÙ…Ù‡ (${fine})

Ø³Ø¨Ø¨ Ø§Ù„ÙØµÙ„ Ù…Ù† Ø§Ù„Ø®Ø¯Ù…Ø© : ${reason}


Ø¥Ø¹ØªÙ…Ø§Ø¯ :
<@&1071933358503903242> 
<@725655707764129813>  

<@&1071933359086911561> 
<@813079786855464961>   **`;
  } else if(level==='Ù…Ø³ØªÙˆÙ‰ 2 ÙÙ…Ø§ ÙÙˆÙ‚'){
    const violationsText=hasViolations?hasViolations:'Ù„Ø§';
    result=`ï·½**

Ù‚Ø±Ø§Ø± ØµÙ€Ø§Ø¯Ø± Ù…Ù€Ù† <@&1071933369698496532> 

Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ : Ø§Ø³ØªÙ‚Ø§Ù„Ø© 

Ø§Ù„Ù…Ø³Ø¹Ù : ${copyId}

Ø§Ø³Ù…Ù‡ ÙˆÙƒÙˆØ¯Ù‡ Ø§Ù„Ù…ÙŠØ¯Ø§Ù†ÙŠ : ${nameCode}

Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø¹Ù„ÙŠÙ‡ Ù…Ø®Ø§Ù„ÙØ§Øª Ø³Ø§Ø¨Ù‚Ù‡ : ${violationsText}  

Ù†Ø´ÙƒØ± Ø¬Ù‡ÙˆØ¯Ùƒ Ø§Ù„Ù…Ø¨Ø°ÙˆÙ„Ø© ÙˆØ§Ù„Ù…Ù„Ø­ÙˆØ¸Ø© Ù„Ø¯Ù‰ Ø§Ù„Ù‚Ø·Ø§Ø¹ ÙˆÙ†Ø³Ø£Ù„ Ø§Ù„Ù„Ù‡ Ù„Ùƒ Ø§Ù„ØªÙˆÙÙŠÙ‚


Ø¥Ø¹ØªÙ…Ø§Ø¯ :
<@&1071933358503903242>
<@725655707764129813>  

<@&1071933359086911561> 
<@813079786855464961>   **`;
  }
  document.getElementById('res_output').textContent=result;
}
function copyResignation(){navigator.clipboard.writeText(document.getElementById('res_output').textContent); alert("âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù‚Ø±Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­!");}

// ---------- Ø¥Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ© ----------
function updateExtForm(){
  const type=document.getElementById('ext_leaveType').value;
  document.getElementById('ext_leaveDaysField').style.display=(type==='Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©')?'block':'none';
  document.getElementById('ext_extensionField').style.display=(type==='ØªÙ…Ø¯ÙŠØ¯ Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©')?'block':'none';
}
function formatExtDate(date){
  const yyyy=date.getFullYear();
  const mm=String(date.getMonth()+1).padStart(2,'0');
  const dd=String(date.getDate()).padStart(2,'0');
  return `${dd}-${mm}-${yyyy}`;
}
function generateExternalLeave(){
  const type=document.getElementById('ext_leaveType').value;
  if(!type) return alert('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©');
  let copyUser=document.getElementById("ext_copyUser").value.trim();
  if(!copyUser) return alert('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ');
  if(!copyUser.startsWith('<@')) copyUser=`<@${copyUser}>`;
  let tzDate=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Riyadh"}));
  let message='';
  if(type==='Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©'){
    const leaveDays=parseInt(document.getElementById('ext_leaveDays').value);
    if(!leaveDays||leaveDays<=0) return alert('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¯Ø© Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø¨Ø§Ù„Ø£ÙŠØ§Ù… ØµØ­ÙŠØ­Ø©');
    const startDate=tzDate;
    const endDate=new Date(startDate);
    endDate.setDate(endDate.getDate()+leaveDays);
    message=`ï·½**

Ù‚Ø±Ø§Ø± ØµÙ€Ø§Ø¯Ø± Ù…Ù€Ù† <@&1071933369698496532> 

Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ : Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ© 

Ù„Ù„Ù…Ø³Ø¹Ù : ${copyUser}

Ø§Ù„Ù…Ø¯Ø© : ${leaveDays} ÙŠÙˆÙ…

Ù…Ù† ØªØ§Ø±ÙŠØ® : ${formatExtDate(startDate)}

Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ® : ${formatExtDate(endDate)}


Ø¥Ø¹ØªÙ…Ø§Ø¯ :
<@&1071933358503903242> 
<@725655707764129813>  

<@&1071933359086911561> 
<@813079786855464961>   **`;
  } else if(type==='ØªÙ…Ø¯ÙŠØ¯ Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ©'){
    const prevEndStr=document.getElementById('ext_previousEndDate').value;
    const extensionDays=parseInt(document.getElementById('ext_extensionDays').value);
    if(!prevEndStr) return alert('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø¬Ø§Ø²Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©');
    if(!extensionDays||extensionDays<=0) return alert('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¯Ø© Ø§Ù„ØªÙ…Ø¯ÙŠØ¯ Ø¨Ø§Ù„Ø£ÙŠØ§Ù… ØµØ­ÙŠØ­Ø©');
    const prevEndDate=new Date(prevEndStr+'T00:00:00');
    const newEndDate=new Date(prevEndDate);
    newEndDate.setDate(newEndDate.getDate()+extensionDays);
    message=`ï·½

**Ù‚Ø±Ø§Ø± ØµÙ€Ø§Ø¯Ø± Ù…Ù€Ù† <@&1071933369698496532> 

Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ : ØªÙ…Ø¯ÙŠØ¯ Ø§Ø¬Ø§Ø²Ø© Ø®Ø§Ø±Ø¬ÙŠØ© 

Ù„Ù„Ù…Ø³Ø¹Ù : ${copyUser}

Ø§Ù„Ù…Ø¯Ø© : ${extensionDays} ÙŠÙˆÙ…

Ø¥Ù„Ù‰ ØªØ§Ø±ÙŠØ® : ${formatExtDate(newEndDate)}


Ø¥Ø¹ØªÙ…Ø§Ø¯ :
<@&1071933358503903242> 
<@725655707764129813>  

<@&1071933359086911561> 
<@813079786855464961>   **`;
  }
  document.getElementById('ext_output').textContent=message;
}
function copyExternalLeave(){navigator.clipboard.writeText(document.getElementById('ext_output').textContent); alert("âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù‚Ø±Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­!");}

// ---------- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø§Ù†ØªØ¯Ø§Ø¨ ----------
function generateAssignment(){
  let copyId=document.getElementById('ass_copyId').value.trim();
  let sector=document.getElementById('ass_sector').value;
  let duration=parseInt(document.getElementById('ass_duration').value.trim());
  if(!copyId) return alert("âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙˆØ¨ÙŠ Ø§ÙŠØ¯ÙŠ");
  if(!sector) return alert("âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù‚Ø·Ø§Ø¹");
  if(isNaN(duration)||duration<=0) duration=0;
  if(!copyId.startsWith("<@")) copyId=`<@${copyId}>`;
  let tzDate=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Riyadh"}));
  tzDate.setDate(tzDate.getDate()+duration);
  let yyyy=tzDate.getFullYear();
  let mm=String(tzDate.getMonth()+1).padStart(2,'0');
  let dd=String(tzDate.getDate()).padStart(2,'0');
  let endDate=`${yyyy}/${mm}/${dd}`;
  let result=`ï·½

**Ù‚Ø±Ø§Ø± ØµØ§Ø¯Ø± Ù…Ù† <@&1071933369698496532> 

Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ : Ø§Ù†ØªØ¯Ø§Ø¨

Ù„Ù„Ù…Ø³Ø¹Ù : ${copyId}

Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù…Ù†ØªØ¯Ø¨ Ù„Ù‡ : ${sector}

Ø§Ù„Ù…Ø¯Ø© : ${duration}

Ø§Ù„Ù‰ ØªØ§Ø±ÙŠØ® : ${endDate}


Ø¥Ø¹ØªÙ…Ø§Ø¯ :
<@&1071933358503903242> 
<@725655707764129813>  

<@&1071933359086911561> 
<@813079786855464961>    **`;
  document.getElementById('ass_output').textContent=result;
}
function copyAssignment(){navigator.clipboard.writeText(document.getElementById('ass_output').textContent); alert("âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù‚Ø±Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­!");}

</script>
</body>
</html>

